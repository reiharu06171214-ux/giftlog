<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>{{ title or "GiftLog" }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light">
  <style>
    :root{
      --bg:#fff6fb;
      --card:#ffffff;
      --ink:#5b2b3a;
      --muted:#9b6b7a;
      --line:#ffd3e6;
      --accent:#ff6aa9;
      --accent-2:#ff8fc0;
      --accent-3:#ffa7cf;
      --ok:#10b981;
      --warn:#f59e0b;
      --err:#ef4444;
      --shadow: 0 8px 24px rgba(255,106,169,.18);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:
        radial-gradient(1200px 600px at 20% -10%, #ffe6f3 0%, rgba(255,230,243,0) 60%),
        radial-gradient(1200px 600px at 90% 10%, #ffe1f0 0%, rgba(255,225,240,0) 55%),
        var(--bg);
      color:var(--ink);
      font-family: ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial;
      -webkit-font-smoothing: antialiased;
    }

    .container{max-width:980px;margin:0 auto;padding:20px}

    /* ãƒŠãƒ“ */
    nav.nav{
      display:flex; gap:10px; align-items:center; margin-bottom:16px;
      padding:10px 14px; border-radius:16px;
      background: linear-gradient(180deg, #ffe9f5, #ffdff0);
      border:1px solid var(--line);
      box-shadow: var(--shadow);
      flex-wrap: wrap;
    }
    .right{margin-left:auto}
    .btn{
      padding:9px 14px; border-radius:999px;
      background:#fff; border:1px solid var(--line);
      color:var(--ink); text-decoration:none; display:inline-flex; align-items:center; gap:6px;
      transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
    }
    .btn:hover{ transform: translateY(-1px); box-shadow: var(--shadow); }
    .btn.primary{ background: linear-gradient(180deg, var(--accent-2), var(--accent)); color:white; border:1px solid #ff69a6; }
    .btn.ghost{ background:transparent; border-color: var(--accent-3); color:var(--accent); }
    .btn.active{ outline: 2px solid var(--accent-2); outline-offset: 1px; }

    /* ã‚«ãƒ¼ãƒ‰/è¦‹å‡ºã—/é€šçŸ¥ */
    .card{ background: var(--card); border:1px solid var(--line); border-radius:20px; padding:16px; margin:12px 0; box-shadow: var(--shadow); }
    h1,h2{ margin:8px 0 12px; } h1{ font-size:28px } h2{ font-size:20px; color:#7a3b52 }
    .alert{padding:10px 12px; border-radius:14px; margin:10px 0; border:1px solid var(--line); background:#fff}
    .alert.success{border-color:#c7f1df; background:#ecfdf5; color:#065f46}
    .alert.error{border-color:#f9caca; background:#fff1f2; color:#9f1239}

    /* ãƒ†ãƒ¼ãƒ–ãƒ« */
    .table{width:100%; border-collapse:collapse; overflow:hidden; border-radius:14px}
    .table th,.table td{border-bottom:1px solid var(--line); padding:10px; text-align:left}
    .table thead th{background:#fff0f7; color:#7a3b52; font-weight:700}
    .table tr:hover td{background:#fff7fb}


/* å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆãƒ­ã‚°ã‚¤ãƒ³å«ã‚€ï¼‰ */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="date"],
select,
textarea {
  background: #fff;                 /* ç™½èƒŒæ™¯ã«å›ºå®š */
  color: var(--ink);                /* æ–‡å­—è‰²ã¯è½ã¡ç€ã„ãŸãƒ”ãƒ³ã‚¯ãƒ–ãƒ©ã‚¦ãƒ³ */
  border: 1px solid var(--line);    /* è–„ãƒ”ãƒ³ã‚¯ã®æ ç·š */
  border-radius: 12px;
  padding: 10px 12px;
  transition: border 0.2s ease, box-shadow 0.2s ease;
}

/* ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã®è¦‹ãŸç›®ï¼ˆé¸æŠã—ãŸã‚‰ãƒ”ãƒ³ã‚¯ã®å…‰ï¼‰ */
input:focus,
select:focus,
textarea:focus {
  border-color: var(--accent-2);
  box-shadow: 0 0 0 4px rgba(255,138,188,.22);
  outline: none;
}

/* å…¥åŠ›ï¼ˆå…ƒã®çµ±ä¸€ãƒ–ãƒ­ãƒƒã‚¯ï¼‰ */
input,select,textarea{
  width:100%;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#fff;
  color:var(--ink);
  outline:none;
  transition:border .15s ease, box-shadow .15s ease;
}


/* ãƒ–ãƒ©ã‚¦ã‚¶å·®ã®å¸åï¼šnumber/date/select ãŒå°ã•ãè¦‹ãˆã‚‹å•é¡Œã®ã‚±ã‚¢ */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] { -moz-appearance: textfield; } /* Firefox */

/* date ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã§é«˜ã•ãŒæ½°ã‚ŒãŒã¡ â†’ appearance ã‚’å¤–ã—ã¦æƒãˆã‚‹ */
input[type="date"] { appearance: none; -webkit-appearance: none; }

/* select ã®å³å´ä½™ç™½ï¼ˆçŸ¢å°åˆ†ï¼‰ã‚’ç¢ºä¿ã—ã¦æ–‡å­—ãŒè©°ã¾ã‚‰ãªã„ã‚ˆã†ã« */
select { padding-right: 36px; }

    /* ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè£œåŠ© */
    .grid{display:grid; gap:10px}
    .cols-2{grid-template-columns:1fr 1fr}
    .cols-3{grid-template-columns:1fr 1fr 1fr}
    .text-right{text-align:right}
    .text-center{text-align:center}
    .inline-form{display:inline}
    @media (max-width:720px){
      .cols-2,.cols-3{grid-template-columns:1fr}
      nav.nav{flex-wrap:wrap}
    }

    /* ã‚¿ã‚°é¢¨ */
    .chip{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; background:#fff0f7; color:#7a3b52; border:1px solid var(--line)}

    /* æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ ä¸‹æ®µï¼ˆãƒã‚§ãƒƒã‚¯ï¼‹ãƒœã‚¿ãƒ³ï¼‰ */
    .filters-bottom{
      grid-column: 1 / -1;
      display:flex; justify-content: space-between; align-items:center;
      gap:16px; margin-top:8px;
    }
    .chk-group{ display:flex; gap:16px; align-items:center; }
    .chk-group .chk{ display:inline-flex; align-items:center; gap:6px; white-space:nowrap; }
    .btn-search { padding:9px 40px; border-radius:999px; background:#fff; border:1px solid var(--line); color:var(--ink); display:inline-flex; align-items:center; gap:6px; transition: transform .06s ease, box-shadow .2s ease, background .2s ease; }

    /* è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆgift_new ã®ãƒã‚§ãƒƒã‚¯è¡Œï¼‰ */
    .checks-row{
      grid-column: 1 / -1;
      display:flex; gap:16px; align-items:center; flex-wrap:wrap;
      margin:4px 0 8px;
    }
    .check{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 14px; border:1px solid var(--line); border-radius:999px;
      background:#fff; font-size:16px; cursor:pointer; user-select:none;
    }
    .check input{ width:18px; height:18px; }

    /* å¹´æœˆæ—¥ã®æ¨ªä¸¦ã³ï¼ˆgift_newï¼‰ */
    .date-row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .date-row select{ flex:1; min-width:90px; }

    /* ãƒ›ãƒ¼ãƒ ä¸­å¤®å¯„ã› */
    .home-card{
      text-align:center; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:40px 20px;
    }
    .home-card h1{ font-size:28px; color:var(--accent); margin-bottom:12px; }
    .home-card p{ font-size:18px; margin:8px 0; }
    .home-wrapper{ min-height:70vh; display:flex; align-items:center; justify-content:center; }

    /* ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    @media (prefers-reduced-motion: reduce){
      .btn{transition:none}
      .btn:hover{transform:none; box-shadow:none}
    }
    .span-2 { grid-column: 1 / -1; }
    /* å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‚’æ¨ªä¸¦ã³ã«ã™ã‚‹ï¼ˆã‚«ãƒ†ã‚´ãƒªè¿½åŠ ãƒ»è´ˆã‚Šä¸»è¿½åŠ ãªã©ï¼‰ */
.form-inline {
  display: flex;
  gap: 10px;
  align-items: flex-end;
  flex-wrap: wrap; /* ç”»é¢ãŒç‹­ã„ã¨ãã¯è‡ªå‹•ã§æŠ˜ã‚Šè¿”ã— */
}
.form-inline .form-group {
  flex: 1 1 auto;  /* å…¥åŠ›æ¬„ã‚’åºƒã’ã‚‹ */
  min-width: 200px;
}


  </style>
</head>
<body>
  <div class="container">
    <nav class="nav" aria-label="ãƒ¡ã‚¤ãƒ³">
      <a href="{{ url_for('home') }}"
         class="btn {{ 'active' if request.path == url_for('home') else '' }}">ğŸ ãƒ›ãƒ¼ãƒ </a>
      <a href="{{ url_for('gifts') }}"
         class="btn {{ 'active' if request.path.startswith(url_for('gifts')) else '' }}">ğŸ“‹ã‚®ãƒ•ãƒˆä¸€è¦§</a>
      <a href="{{ url_for('gift_new') }}"
         class="btn primary {{ 'active' if request.path == url_for('gift_new') else '' }}">ğŸã‚®ãƒ•ãƒˆè¿½åŠ </a>
      <a href="{{ url_for('givers') }}"
         class="btn {{ 'active' if request.path == url_for('givers') else '' }}">ğŸ«¶é€ã‚Šä¸»ç·¨é›†</a>
      <a href="{{ url_for('categories') }}"
         class="btn {{ 'active' if request.path == url_for('categories') else '' }}">ğŸ·ã‚«ãƒ†ã‚´ãƒªç·¨é›†</a>
      <a href="{{ url_for('calendar_feed') }}" class="btn ghost">ğŸ“…å‡ºåŠ›</a>

      <div class="right"></div>
      {% if current_user.is_authenticated %}
        <span class="small">ğŸ‘‹{{ current_user.email }}</span>
        <a href="{{ url_for('logout') }}" class="btn">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
      {% else %}
        <a href="{{ url_for('login') }}" class="btn">ãƒ­ã‚°ã‚¤ãƒ³</a>
        <a href="{{ url_for('register') }}" class="btn">æ–°è¦ç™»éŒ²</a>
      {% endif %}
    </nav>

    {% include 'partials/flash.html' %}

    <main>
      {% block content %}{% endblock %}
    </main>
  </div>
</body>
</html>
