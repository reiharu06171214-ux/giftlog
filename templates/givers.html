{% extends "base.html" %}
{% block content %}
  <!-- 追加フォーム -->
  <div class="card">
    <h2>贈り主の追加</h2>
    <form method="post" class="grid cols-3" style="gap:10px; align-items:end;">
      <label>名前*<br>
        <input name="name" placeholder="例: 田中さん" required>
      </label>
      <label>連絡先（任意）<br>
        <input name="contact" placeholder="メールや住所など">
      </label>
      <div>
        <button class="btn btn-search" type="submit">➕ 追加</button>
      </div>
    </form>
  </div>

  <!-- 一覧テーブル -->
  <div class="card">
    <h2>贈り主一覧</h2>
    <table class="table">
      <thead>
        <tr>
          <th>名前</th>
          <th>連絡先</th>
          <th style="text-align:right;">ギフト件数</th>
        </tr>
      </thead>
      <tbody>
        {% for g in givers %}
        <tr>
          <td>{{ g.name }}</td>
          <td class="small">{{ g.contact or "-" }}</td>
          <td style="text-align:right;">{{ g.gifts|length }}</td>
        </tr>
        {% else %}
        <tr>
          <td colspan="3" class="small" style="text-align:center; color:var(--muted);">
            まだ贈り主が登録されていません。上のフォームから追加してください。
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
